"use strict";(()=>{var r="scriptsLoaded";var i="IS_DEBUG_MODE";window.IS_DEBUG_MODE=w();window.DEBUG=function(...o){window.IS_DEBUG_MODE&&console.debug(...o)};window.setDebugMode=o=>{localStorage.setItem(i,o.toString())};function w(){let o=localStorage.getItem(i);return!!(o&&o==="true")}var c="jsEnv";window.SCRIPTS_ENV=_();window.setScriptsENV=o=>{if(o!=="dev"&&o!=="prod"){console.error("Invalid environment. Pass `dev` or `prod`");return}localStorage.setItem(c,o),window.SCRIPTS_ENV=o,console.debug(`Environment successfully set to ${o}`)};function _(){return localStorage.getItem(c)||"prod"}var d="http://localhost:3000/";function s(o=""){return`https://cdn.jsdelivr.net/gh/igniteagency/igniteagency-webflow-site${o===""?"":`@${o}`}/dist/prod/`}var I=window.location.hostname.includes("webflow.io")?s("dev"):s();window.SCRIPT_BASE=window.SCRIPTS_ENV==="dev"?d:I;window.JS_SCRIPTS=new Set;var l=[];window.addEventListener("DOMContentLoaded",p);function p(){console.debug(`Current mode: ${window.SCRIPTS_ENV}`),window.SCRIPTS_ENV==="dev"?u():S()}function S(){var o;(o=window.JS_SCRIPTS)==null||o.forEach(e=>{let t=document.createElement("script");t.src=BASE+e,t.defer=!0;let n=new Promise((a,E)=>{t.onload=a,t.onerror=()=>{console.error(`Failed to load script: ${e}`)}});l.push(n),document.body.appendChild(t)}),Promise.allSettled(l).then(()=>{window.DEBUG("All scripts loaded"),window.dispatchEvent(new CustomEvent(r))})}function u(){let e=new AbortController,t=setTimeout(()=>{e.abort()},300);fetch(d,{signal:e.signal}).then(n=>{if(!n.ok)throw console.error({response:n}),new Error("localhost response not ok")}).catch(()=>{console.error("localhost not resolved. Switching to production"),window.setScriptsENV("prod")}).finally(()=>{clearTimeout(t),S()})}})();
