"use strict";(()=>{var S=Object.defineProperty;var v=(l,t,e)=>t in l?S(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e;var u=(l,t,e)=>(v(l,typeof t!="symbol"?t+"":t,e),e);var A="data-duration",b="data-stagger",R="data-trigger-start",m="data-prev-section-trigger",o={LETTER_STAGGER:"gsap-letter-stagger",LINE_STAGGER:"gsap-line-stagger",SCRUB_TEXT:"data-scrub",HOVER_STAGGER_TRIGGER:"gsap-hover-stagger-trigger",HOVER_STAGGER:"gsap-hover-stagger"},c=class c{constructor(){u(this,"splitInstances",[]);u(this,"animations",[]);u(this,"elements",[]);u(this,"abortController");this.abortController=new AbortController}static getInstance(){return c.instance||(c.instance=new c),c.instance}init(){this.abortController.signal.aborted&&(this.abortController=new AbortController),this.setupAnimations()}setupAnimations(){window.IS_DEBUG_MODE&&console.debug("Setting up text split data attribute animations"),this.setupLetterStagger(),this.setupLineStagger(),this.setupScrubText(),this.setupHoverStagger()}destroy(){this.abortController.abort(),this.clearAnimations()}clearAnimations(){this.animations.forEach(t=>{t.kill()}),this.elements.forEach(t=>{var e;(e=t.animation)==null||e.kill()}),this.splitInstances.forEach(t=>{t.revert()}),this.animations=[],this.elements=[],this.splitInstances=[]}getPreviousSection(t){let e=t.closest("section");return e?e.previousElementSibling:null}setupLetterStagger(){document.querySelectorAll(`[${o.LETTER_STAGGER}]`).forEach(t=>{let e=this.getStaggerAttrValue(t,.03),n=this.getTriggerAttrValue(t,"bottom"),i=t.hasAttribute(m),a=i?this.getPreviousSection(t):null,g=new SplitText(t,{type:"words,lines,chars",mask:"words",autoSplit:!0,onSplit:r=>(gsap.set(r.chars,{y:"100%"}),gsap.to(r.chars,{y:"0%",duration:this.getDurationAttrValue(t,1),ease:"expo.inOut",stagger:e,scrollTrigger:{trigger:a||t,start:i&&a?"bottom bottom":`top ${n}`,invalidateOnRefresh:!0},onComplete:()=>g.revert()}))})})}setupLineStagger(){document.querySelectorAll(`[${o.LINE_STAGGER}]`).forEach(t=>{let e=this.getDurationAttrValue(t,.3),n=this.getTriggerAttrValue(t,"80%"),i=t.hasAttribute(m),a=i?this.getPreviousSection(t):null,g=new SplitText(t,{type:"lines",mask:"lines",onSplit:r=>(gsap.set(r.lines,{y:"100%",opacity:0}),gsap.to(r.lines,{y:"0%",opacity:1,stagger:e,ease:"expo.out",scrollTrigger:{trigger:a||t,start:i&&a?"bottom bottom":`top ${n}`,toggleActions:"play none none none"},onComplete:()=>r.revert()}))})})}setupScrubText(){document.querySelectorAll(`[${o.SCRUB_TEXT}]`).forEach(t=>{let e=new SplitText(t,{type:"chars,words",autoSplit:!0,onSplit:n=>(gsap.set(n.chars,{opacity:.2}),gsap.to(n.chars,{scrollTrigger:{trigger:t,start:"top 60%",end:"bottom 30%",scrub:!0,markers:!1,invalidateOnRefresh:!0},opacity:1,stagger:.1,duration:1}))});this.splitInstances.push(e)})}setupHoverStagger(){if(!window.matchMedia("(min-width: 1100px) and (pointer: fine)").matches){window.IS_DEBUG_MODE&&console.debug("Hover stagger not set up on screens smaller than 1100px or devices with a coarse pointer");return}document.querySelectorAll(`[${o.HOVER_STAGGER}], [${o.HOVER_STAGGER_TRIGGER}]`).forEach(e=>{let n={element:e};if(e.hasAttribute(o.HOVER_STAGGER_TRIGGER)){let i=e.querySelectorAll(`[${o.HOVER_STAGGER}]`);if(i.length===0)return;let a=Array.from(i).map(s=>{let p=this.getDurationAttrValue(s,.8),T=this.getStaggerAttrValue(s,.01),d=new SplitText(s,{type:"words,chars",mask:"words"});this.splitInstances.push(d);let E=gsap.timeline({paused:!0});return E.to(d.chars,{yPercent:-100,duration:p,ease:"expo.inOut",stagger:T}),E}),g=()=>a.forEach(s=>s.play()),r=()=>a.forEach(s=>s.reverse());e.addEventListener("mouseenter",g,{signal:this.abortController.signal}),e.addEventListener("focusin",g,{signal:this.abortController.signal}),e.addEventListener("mouseleave",r,{signal:this.abortController.signal}),e.addEventListener("focusout",r,{signal:this.abortController.signal}),a.forEach(s=>{this.animations.push(s)})}else if(e.hasAttribute(o.HOVER_STAGGER)&&!e.closest(`[${o.HOVER_STAGGER_TRIGGER}]`)){let i=new SplitText(e,{type:"words,chars",mask:"words"});this.splitInstances.push(i);let a=this.getDurationAttrValue(e,.8),g=this.getStaggerAttrValue(e,.01),r=gsap.timeline({paused:!0});r.to(i.chars,{yPercent:-100,duration:a,ease:"expo.inOut",stagger:g}),n.animation=r,this.elements.push(n);let s=()=>r.play(),p=()=>r.reverse();e.addEventListener("mouseenter",s,{signal:this.abortController.signal}),e.addEventListener("focusin",s,{signal:this.abortController.signal}),e.addEventListener("mouseleave",p,{signal:this.abortController.signal}),e.addEventListener("focusout",p,{signal:this.abortController.signal})}})}getDurationAttrValue(t,e){return parseFloat(t.getAttribute(A)||e.toString())}getStaggerAttrValue(t,e){return parseFloat(t.getAttribute(b)||e.toString())}getTriggerAttrValue(t,e){return t.getAttribute(R)||e}};u(c,"instance",null);var h=c;function y(){let l=h.getInstance();document.fonts.ready.then(()=>{l.init()})}})();
