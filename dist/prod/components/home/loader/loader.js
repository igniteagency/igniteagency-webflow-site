"use strict";(()=>{var O=Object.defineProperty;var w=(u,e,o)=>e in u?O(u,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):u[e]=o;var c=(u,e,o)=>(w(u,typeof e!="symbol"?e+"":e,o),o);var v="scriptsLoaded";var A="is-loader-shown";var _="home-loader_component",C="home-loader_number-sub-wrap",P="home-loader_number",R="home-loader_number-wrapper",y="home-loader_center-bolt",$="home-loader_center-bolt-wrap",b="home-loader_center-bolt-path",T="bolt-clone-group";window.addEventListener(v,()=>{new E().init()});var E=class{constructor(){c(this,"loaderElement");c(this,"originalSvg");c(this,"boltContainer");c(this,"originalGroup");c(this,"originalPath");c(this,"duplicates",[]);c(this,"loaderTimeline",null);this.loaderElement=document.querySelector(`.${_}`),this.originalSvg=document.querySelector(`.${y}`),this.boltContainer=document.querySelector(`.${$}`),this.originalGroup=null,this.originalPath=null}init(){sessionStorage.getItem(A)==="true"&&this.loaderElement||this.setupLoaderAnimation()}setupLoaderAnimation(){this.loaderTimeline=gsap.timeline({defaults:{duration:2.5,ease:"power4.inOut"}}),this.setupBoltClones(),this.setupNumberAnimation(),this.setupBoltAnimation(),this.setupFinalTransition(),this.loaderTimeline.play(),sessionStorage.setItem(A,"true"),console.debug("Loader animation initialized and started")}setupBoltClones(){if(!this.originalSvg||!this.boltContainer||(this.originalGroup=this.originalSvg.querySelector("g"),!this.originalGroup))return;this.originalPath=this.originalSvg.querySelector(`.${b}`);let e=window.innerWidth,o=window.innerHeight,s=this.originalSvg.getBoundingClientRect(),d=s.width,h=s.height,p=Math.sqrt(e*e+o*o)/Math.max(d,h)*33,g=25;for(let r=1;r<=g;r++){let n=this.originalGroup.cloneNode(!0);n.classList.add(T),n.id=`${T}-${r}`,this.originalSvg.appendChild(n),this.duplicates.push(n)}let m=[this.originalGroup,...this.duplicates];gsap.set(this.originalSvg,{transformOrigin:"center center"}),gsap.set(m,{scale:r=>p+r*.4,rotation:90,transformOrigin:"center center",svgOrigin:"center center"}),this.originalPath&&gsap.set(this.originalPath,{fill:"none",stroke:"black"})}setupNumberAnimation(){if(!this.loaderTimeline)return;let e=gsap.timeline(),o=document.querySelector(`.${P}`);if(o){let s={val:0};e.to(s,{val:100,duration:2,onUpdate:()=>{o.textContent=Math.round(s.val).toString()}}).to(`.${C}`,{scale:2,duration:2},"<").to(`.${R}`,{right:0,duration:2},"<").to(`.${C} > *`,{yPercent:200,duration:.8,ease:"power2.inOut"},"+=0.1"),this.loaderTimeline.add(e)}}setupBoltAnimation(){if(!this.loaderTimeline||!this.originalGroup||this.duplicates.length===0)return;let e=[this.originalGroup,...this.duplicates],o=gsap.timeline();o.to(e,{scale:1,rotation:0,duration:1.2,ease:"power4.inOut",transformOrigin:"center center",svgOrigin:"center center",stagger:{amount:.3,from:"start",ease:"power2.in"}}),o.to(`.${T}`,{opacity:1,duration:.15});let s=[this.originalPath];this.duplicates.forEach(t=>{let i=t.querySelector(`.${b}`);i&&s.push(i)});let d=document.querySelector(".cursor_background"),h=d?getComputedStyle(d).backgroundColor:"#ff0000";o.to(e,{scale:1.2,duration:.4},"-=0.2"),o.to(s,{fill:h,stroke:h,duration:.4},"<");let l=this.duplicates.slice(0,4),p=this.duplicates.slice(4,8);this.duplicates.length>8&&o.to(this.duplicates.slice(8),{opacity:0,duration:.2},">"),o.to(l,{yPercent:t=>-63*(t+1),xPercent:t=>-79*(t+1),duration:.8,ease:"power4.out",stagger:{amount:.1,from:"end"}},">"),o.to(p,{yPercent:t=>63*(t+1),xPercent:t=>79*(t+1),duration:.8,ease:"power4.out",stagger:{amount:.1,from:"start"}},"<");let g=[this.originalPath];[...l,...p].forEach(t=>{let i=t.querySelector(`.${b}`);i&&g.push(i)});let m=gsap.timeline(),r=window.innerWidth,a=window.innerHeight>r?r*1.5:r/2;g.forEach(t=>{if(t){let i=this.createPathExpandAnimation(t,a,1);i&&m.add(i,0)}}),o.add(m,">"),this.loaderTimeline.add(o,"-=1")}createPathExpandAnimation(e,o=10,s=1.2){let d=e.getAttribute("d");if(!d)return null;let h=d.match(/[a-zA-Z][^a-zA-Z]*/g)||[],l=[];h.forEach(r=>{let n=r.charAt(0),a=n===n.toUpperCase(),t=r.substring(1).trim().split(/[\s,]+/).map(parseFloat);switch(n.toUpperCase()){case"M":case"L":for(let i=0;i<t.length;i+=2)l.push({command:n,x:t[i],y:t[i+1],isAbsolute:a});break;case"H":t.forEach(i=>{l.push({command:n,x:i,y:0,isAbsolute:a})});break;case"V":t.forEach(i=>{l.push({command:n,x:0,y:i,isAbsolute:a})});break;case"Z":l.push({command:n,x:0,y:0,isAbsolute:!0});break}});let p={offset:0},g=()=>{let r=p.offset,n=Math.floor(l.length/2),a="";l.forEach((t,i)=>{let L=(i<n?-1:1)*r,S=t.x,f=t.y;t.command.toUpperCase()!=="Z"&&t.command.toUpperCase()!=="V"&&(S=t.x+L),t.command.toUpperCase()==="M"?a+=`M${S} ${f}`:t.command.toUpperCase()==="L"?a+=`L${S} ${f}`:t.command.toUpperCase()==="H"?a+=`H${S}`:t.command.toUpperCase()==="V"?a+=`V${f}`:t.command.toUpperCase()==="Z"&&(a+="Z")}),e.setAttribute("d",a)},m=gsap.timeline();return m.to(p,{offset:o,duration:s,ease:"power4.inOut",onUpdate:g}),m}setupFinalTransition(){this.loaderTimeline&&this.loaderTimeline.to(`.${_}`,{duration:.5,ease:"power2.inOut",yPercent:-100,onComplete:()=>{let e=document.querySelector(`.${_}`);e&&(e.style.display="none")}},"-=0.2")}getTimeline(){return this.loaderTimeline}},V=E;})();
