"use strict";(()=>{var z=Object.defineProperty;var D=(h,s,d)=>s in h?z(h,s,{enumerable:!0,configurable:!0,writable:!0,value:d}):h[s]=d;var a=(h,s,d)=>(D(h,typeof s!="symbol"?s+"":s,d),d);var M="scriptsLoaded";window.addEventListener(M,()=>{N()});function N(){let S=()=>{let t=document.createElement("canvas");t.id="reviews-hearts-bg-canvas",t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.style.zIndex="1";let e=document.createElement("canvas");return e.id="reviews-hearts-fg-canvas",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.pointerEvents="none",e.style.zIndex="1000",document.body.appendChild(t),document.body.appendChild(e),{bgCanvas:t,fgCanvas:e}},g=document.querySelector("#reviews-hearts-bg-canvas"),v=document.querySelector("#reviews-hearts-fg-canvas"),{bgCanvas:o,fgCanvas:l}=g&&v?{bgCanvas:g,fgCanvas:v}:S();o.width=window.innerWidth,o.height=window.innerHeight,l.width=window.innerWidth,l.height=window.innerHeight;let C=o.getContext("2d"),O=l.getContext("2d"),R=["\u{1F497}","\u{1F496}","\u2764\uFE0F","\u{1FA77}"],b;(i=>(i[i.BACKGROUND=0]="BACKGROUND",i[i.FOREGROUND=1]="FOREGROUND"))(b||(b={}));class A{constructor(e){a(this,"x");a(this,"y");a(this,"size");a(this,"speedY");a(this,"emoji");a(this,"opacity");a(this,"initialOpacity");a(this,"initialX");a(this,"layer");this.initialX=Math.random()*window.innerWidth,this.x=this.initialX,this.y=window.innerHeight+Math.random()*100+50;let i=Math.random();e!==void 0?(this.layer=e,this.layer===0?Math.random()<.7?this.size=30:this.size=45:Math.random()<.7?this.size=60:this.size=80):i<.5?(this.size=30,this.layer=0):i<.8?(this.size=45,this.layer=0):i<.95?(this.size=60,this.layer=1):(this.size=80,this.layer=1),this.size===30?(this.speedY=1.4,this.initialOpacity=.5):this.size===45?(this.speedY=2.3,this.initialOpacity=.7):this.size===60?(this.speedY=3.8,this.initialOpacity=.85):(this.speedY=5.2,this.initialOpacity=1),this.emoji=R[Math.floor(Math.random()*R.length)],this.opacity=this.initialOpacity}update(){if(this.y-=this.speedY,this.y<window.innerHeight*.9){let e=1-(window.innerHeight*.9-this.y)/(window.innerHeight*.9),i=Math.pow(e,5);this.opacity=this.initialOpacity*Math.max(0,i)}return this.y>-this.size&&this.opacity>.01}draw(){if(this.opacity<=.01)return;let e=this.layer===0?C:O;e.save(),e.globalAlpha=this.opacity,e.font=`${this.size}px Arial`,e.textAlign="center",e.textBaseline="middle",e.fillText(this.emoji,this.x,this.y),e.restore()}}let w=[],u=[];function p(t){t===0?w.push(new A(0)):u.push(new A(1))}function x(){Math.random()<7/20&&p(0),Math.random()<3/20&&p(1)}let E=0,n;function f(t){if(t-E>16){E=t,C.clearRect(0,0,o.width,o.height),O.clearRect(0,0,l.width,l.height);for(let i=w.length-1;i>=0;i--){let c=w[i];c.update()?c.draw():w.splice(i,1)}for(let i=u.length-1;i>=0;i--){let c=u[i];c.update()?c.draw():u.splice(i,1)}}n=requestAnimationFrame(f)}let y=!1,H,r;function m(){if(!r){for(let t=0;t<7;t++)p(0);for(let t=0;t<3;t++)p(1);r=window.setInterval(x,50),n||(n=requestAnimationFrame(f))}}function L(){r&&(window.clearInterval(r),r=0)}window.addEventListener("scroll",()=>{y||(y=!0,m()),clearTimeout(H),H=window.setTimeout(()=>{y=!1,L()},500)},{passive:!0}),n=requestAnimationFrame(f),window.addEventListener("resize",()=>{o.width=window.innerWidth,o.height=window.innerHeight,l.width=window.innerWidth,l.height=window.innerHeight}),document.addEventListener("visibilitychange",()=>{document.hidden?(r&&(clearInterval(r),r=0),n&&(cancelAnimationFrame(n),n=0)):y&&(m(),n||(n=requestAnimationFrame(f)))}),window.stopHeartsAnimation=()=>(L(),n&&(cancelAnimationFrame(n),n=0),!0),window.startHeartsAnimation=()=>(m(),!0)}})();
